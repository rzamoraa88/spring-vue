(function(){"use strict";var t={950:function(t,e,n){n(6992),n(8674),n(9601),n(7727);var o=n(9567),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("FacturasApp")],1)},r=[],i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{margin:"0 auto",width:"80%"}},[n("Toast"),n("Panel",{attrs:{header:"FACTURAS APP"}},[n("Menubar",{attrs:{model:t.items}}),n("br"),n("DataTable",{attrs:{value:t.facturas,paginator:!0,rows:10,selectionMode:"single",selection:t.selectedFactura,dataKey:"id"},on:{"update:selection":function(e){t.selectedFactura=e}}},[n("Column",{attrs:{field:"id",header:"ID"}}),n("Column",{attrs:{field:"codigo",header:"Código"}}),n("Column",{attrs:{field:"nif",header:"NIF Destinatario"}}),n("Column",{attrs:{field:"numeroProductos",header:"Numero Productos"}}),n("Column",{attrs:{field:"importe",header:"Importe"}}),n("Column",{attrs:{field:"importeConIva",header:"Importe IVA"}})],1)],1),n("Dialog",{attrs:{header:"Crear Factura",visible:t.displayModal,modal:!0},on:{"update:visible":function(e){t.displayModal=e}},scopedSlots:t._u([{key:"footer",fn:function(){return[n("Button",{attrs:{label:"Guardar",icon:"pi pi-check"},on:{click:t.save}}),n("Button",{staticClass:"p-button-secondary",attrs:{label:"Cancelar",icon:"pi pi-times"},on:{click:t.closeModal}})]},proxy:!0}])},[n("span",{staticClass:"p-float-label"},[n("InputText",{staticStyle:{width:"100%"},attrs:{id:"codigo",type:"text"},model:{value:t.factura.codigo,callback:function(e){t.$set(t.factura,"codigo",e)},expression:"factura.codigo"}}),n("label",{attrs:{for:"codigo"}},[t._v("Codigo")])],1),n("br"),n("span",{staticClass:"p-float-label"},[n("InputText",{staticStyle:{width:"100%"},attrs:{id:"nif",type:"text"},model:{value:t.factura.nif,callback:function(e){t.$set(t.factura,"nif",e)},expression:"factura.nif"}}),n("label",{attrs:{for:"nif"}},[t._v("Destinatario")])],1),n("br"),n("span",[n("select",{directives:[{name:"model",rawName:"v-model",value:t.factura.productos,expression:"factura.productos"}],attrs:{multiple:""},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.factura,"productos",e.target.multiple?n:n[0])}}},t._l(t.productos,(function(e,o){return n("option",{key:o,domProps:{value:e}},[t._v(" "+t._s(e.descripcion)+" ")])})),0),n("span",[t._v("Productos: "+t._s(t.factura.productos))])])])],1)},l=[],u=n(6133),c=n(2751),s=n(3796),d=n(6166),f=n.n(d),p=function(){function t(){(0,u.Z)(this,t),(0,s.Z)(this,"url","http://localhost:8080/facturas/")}return(0,c.Z)(t,[{key:"getAll",value:function(){return f().get(this.url+"all")}},{key:"save",value:function(t){return f().post(this.url+"save",t)}},{key:"delete",value:function(t){return f().get(this.url+"delete/"+t)}}]),t}(),h=function(){function t(){(0,u.Z)(this,t),(0,s.Z)(this,"url","http://localhost:8080/productos/")}return(0,c.Z)(t,[{key:"getAll",value:function(){return f().get(this.url+"all")}}]),t}(),v={name:"FacturasApp",data:function(){var t=this;return{facturas:null,factura:{id:0,codigo:null,nif:null,productos:[]},selectedFactura:{id:0,codigo:null,nif:null,productos:[]},productos:[],items:[{label:"Nuevo",icon:"pi pi-fw pi-plus",command:function(){t.showSaveModal()}},{label:"Editar",icon:"pi pi-fw pi-pencil",command:function(){t.showEditModal()}},{label:"Eliminar",icon:"pi pi-fw pi-trash",command:function(){t.delete()}},{label:"Refrescar",icon:"pi pi-fw pi-refresh",command:function(){t.getAll()}}],displayModal:!1}},facturaService:null,productoService:null,created:function(){this.facturaService=new p,this.productoService=new h},mounted:function(){this.getAll(),this.getProductos()},methods:{showSaveModal:function(){this.displayModal=!0},showEditModal:function(){this.factura=this.selectedFactura,this.displayModal=!0},getAll:function(){var t=this;this.facturaService.getAll().then((function(e){console.log(e),t.facturas=e.data}))},getProductos:function(){var t=this;this.productoService.getAll().then((function(e){console.log(e),t.productos=e.data}))},delete:function(){var t=this;this.facturaService.delete(this.selectedFactura.id).then((function(e){200===e.status&&(t.$toast.add({severity:"success",summary:"Atención!",detail:"Se eliminó el registro correctamente",life:3e3}),t.getAll())}))},save:function(){var t=this;this.facturaService.save(this.factura).then((function(e){200===e.status&&(t.displayModal=!1,t.factura={codigo:null,nif:null,productos:[]},t.getAll())}))},closeModal:function(){this.displayModal=!1}}},m=v,g=n(1001),b=(0,g.Z)(m,i,l,!1,null,null,null),y=b.exports,w={name:"App",components:{FacturasApp:y}},S=w,M=(0,g.Z)(S,a,r,!1,null,null,null),A=M.exports,C=n(2565),_=n(8649),k=n(8138),x=n(7180),P=n(7182),O=n(9532),T=n(3559),F=n(8101),I=n(1105),j=n(2013);o["default"].config.productionTip=!1,o["default"].component("DataTable",C["default"]),o["default"].component("Column",_["default"]),o["default"].component("Panel",k["default"]),o["default"].component("Menubar",x["default"]),o["default"].component("Dialog",P["default"]),o["default"].component("InputText",O["default"]),o["default"].component("Button",T["default"]),o["default"].component("MultiSelect",F["default"]),o["default"].component("Toast",j["default"]),o["default"].use(I["default"]),new o["default"]({render:function(t){return t(A)}}).$mount("#app")}},e={};function n(o){var a=e[o];if(void 0!==a)return a.exports;var r=e[o]={exports:{}};return t[o](r,r.exports,n),r.exports}n.m=t,function(){var t=[];n.O=function(e,o,a,r){if(!o){var i=1/0;for(s=0;s<t.length;s++){o=t[s][0],a=t[s][1],r=t[s][2];for(var l=!0,u=0;u<o.length;u++)(!1&r||i>=r)&&Object.keys(n.O).every((function(t){return n.O[t](o[u])}))?o.splice(u--,1):(l=!1,r<i&&(i=r));if(l){t.splice(s--,1);var c=a();void 0!==c&&(e=c)}}return e}r=r||0;for(var s=t.length;s>0&&t[s-1][2]>r;s--)t[s]=t[s-1];t[s]=[o,a,r]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,o){var a,r,i=o[0],l=o[1],u=o[2],c=0;if(i.some((function(e){return 0!==t[e]}))){for(a in l)n.o(l,a)&&(n.m[a]=l[a]);if(u)var s=u(n)}for(e&&e(o);c<i.length;c++)r=i[c],n.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return n.O(s)},o=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(950)}));o=n.O(o)})();
//# sourceMappingURL=app-legacy.5d9b94a7.js.map